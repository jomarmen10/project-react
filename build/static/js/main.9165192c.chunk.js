(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(44)},30:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(22),c=a.n(s),l=(a(30),a(1)),i=a.n(l),u=a(9),o=a(4),p=a(5),m=a(7),d=a(6),h=a(8),f=a(14),v=a(13),g=a(2),b=(a(32),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={newSearch:""},a.searchHandler=function(e){a.setState(Object(v.a)({},e.currentTarget.name,e.currentTarget.value))},a.submitHandler=function(e){e.preventDefault(),a.props.searchUpdate(a.state.newSearch)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"Nav"},n.a.createElement("div",{className:"Nav-menus"},n.a.createElement("div",{className:"Nav-brand"},n.a.createElement("a",{className:"Nav-brand-logo"})),n.a.createElement("div",{className:"search-bar"},n.a.createElement("form",{onSubmit:this.submitHandler},n.a.createElement("input",{type:"text",placeholder:"search",value:this.state.newSearch,name:"newSearch",onChange:this.searchHandler,autoComplete:"off"}))),n.a.createElement("div",{className:"Nav-link"},this.props.isLogged?n.a.createElement("div",null,n.a.createElement(g.c,{to:"/"},"FEED")," ",n.a.createElement("br",null),n.a.createElement(g.c,{to:"/login"},"PROFILE")," ",n.a.createElement("br",null),n.a.createElement("a",{href:"/login"},"logout")):n.a.createElement("div",null,n.a.createElement(g.c,{to:"/register"},"REGISTER")," ",n.a.createElement("br",null),n.a.createElement(g.c,{to:"/login"},"LOGIN")))))}}]),t}(r.Component)),E=(a(41),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.pics;return n.a.createElement("div",null,(e||[]).map(function(e,t){return n.a.createElement("article",{className:"Post",ref:"Post",key:t},n.a.createElement("header",null,n.a.createElement("div",{className:"Post-user"},n.a.createElement("div",{className:"Post-user-avatar"},n.a.createElement("img",{src:e.user.profile_image.small,alt:"Chris"})),n.a.createElement("div",{className:"Post-user-nickname"},n.a.createElement(g.b,{to:"/users/".concat(e.user.username)},n.a.createElement("span",null,e.user.username))))),n.a.createElement("div",{className:"Post-image"},n.a.createElement("div",{className:"Post-image-bg"},n.a.createElement("img",{alt:"Icon Living",src:e.urls.small}))),n.a.createElement("div",{className:"Post-caption"},n.a.createElement(g.b,{to:"/users/".concat(e.user.username)},n.a.createElement("strong",null,e.user.username)),e.description?e.description:e.alt_description))}))}}]),t}(r.Component)),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",email:"",password:"",profilePic:"",postPic:""},a.inputHandler=function(e){a.setState(Object(v.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault(),a.props.update(a.state)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({firstName:this.props.currentUser.firstName,lastName:this.props.currentUser.lastName,email:this.props.currentUser.email,password:this.props.currentUser.password,profilePic:this.props.currentUser.profilePic,postPic:this.props.currentUser.postPic})}},{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,r=e.email,s=e.password,c=e.profilePic,l=e.postPic;return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.submitHandler},n.a.createElement("input",{type:"text",name:"firstName",value:t,placeholder:"First Name",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"lastName",value:a,placeholder:"Last Name",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"email",value:r,placeholder:"Email",onChange:this.inputHandler}),n.a.createElement("input",{type:"password",name:"password",value:s,placeholder:"Password",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"profilePic",value:c,placeholder:"Profile Picture (URL)",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"postPic",value:l,placeholder:"Upload photo(URL)",onChange:this.inputHandler}),n.a.createElement("button",{type:"submit"},"Submit")),n.a.createElement("button",{onClick:this.props.deleteUser},"delete user"))}}]),t}(r.Component),w=(a(42),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={user:{}},a.getProfile=Object(u.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.unsplash.com/users/".concat(a.props.match.params.id,"?client_id=").concat("c60d9f090454d76d4344e50db930e0024b8b2268508a997cbd4595e916131e35"));case 3:return t=e.sent,r=t.json(),e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getProfile().then(function(t){return e.setState({user:t})})}},{key:"render",value:function(){var e=this.state.user,t=e.username,a=e.photos,r=e.profile_image,s=e.followers_count,c=e.following_count,l=e.bio,i=e.id;return console.log(l),n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"profile"},n.a.createElement("div",{className:"profile-image"},r?n.a.createElement("img",{src:r.large}):n.a.createElement("img",{src:"https://www.showflipper.com/blog/images/default.jpg"})),n.a.createElement("div",{className:"profile-username"},n.a.createElement("h4",null,t),this.props.isLogged&&!i?n.a.createElement(g.b,{to:"/edit/".concat(this.props.currentUser._id),render:function(){return n.a.createElement(y,null)}},"EDIT"):null),n.a.createElement("div",{className:"profile-stats"},n.a.createElement("ul",null,n.a.createElement("li",null,c," following"),n.a.createElement("li",null,s," followers"))),n.a.createElement("div",{className:"profile-bio"},n.a.createElement("p",null,l)))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"gallery"},a?a.map(function(e,t){return n.a.createElement("div",{className:"gallery-item"},n.a.createElement("img",{className:"gallery-image",key:t,src:e.urls.small}))}):null)))}}]),t}(r.Component)),j=Object(f.f)(w),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={firstName:"",lastName:"",email:"",password:"",logged:!1},a.inputHandler=function(e){a.setState(Object(v.a)({},e.currentTarget.name,e.currentTarget.value))},a.submitHandler=function(){var e=Object(u.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.props.register(a.state);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.firstName,a=e.lastName,r=e.email,s=e.password;return n.a.createElement("div",null,this.props.isLogged?n.a.createElement(f.a,{to:"/edit/".concat(this.props.currentUser._id)}):n.a.createElement("form",{onSubmit:this.submitHandler},n.a.createElement("input",{type:"text",name:"firstName",value:t,placeholder:"First Name",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"lastName",value:a,placeholder:"Last Name",onChange:this.inputHandler}),n.a.createElement("input",{type:"text",name:"email",value:r,placeholder:"Email",onChange:this.inputHandler}),n.a.createElement("input",{type:"password",name:"password",value:s,placeholder:"Password",onChange:this.inputHandler}),n.a.createElement("button",{type:"submit"},"REGISTER")))}}]),t}(r.Component),N=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:""},a.inputHandler=function(e){a.setState(Object(v.a)({},e.currentTarget.name,e.currentTarget.value))},a.submitHandler=function(e){e.preventDefault(),a.props.login(a.state)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,this.props.isLogged?n.a.createElement(f.a,{to:"/users/".concat(this.props.currentUser._id)}):n.a.createElement("form",{onSubmit:this.submitHandler,style:{marginTop:"12rem"}},n.a.createElement("input",{type:"text",name:"email",value:this.state.email,placeholder:"email",onChange:this.inputHandler}),n.a.createElement("input",{type:"password",name:"password",value:this.state.password,placeholder:"password",onChange:this.inputHandler}),n.a.createElement("button",{type:"Submit"},"Login")))}}]),t}(r.Component),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={current:null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({current:this.props.currentUser})}},{key:"render",value:function(){return console.log(this.props.currentUser),console.log(this.state.current),n.a.createElement("div",null,this.state.current.email)}}]),t}(r.Component),U=(a(43),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={currentUser:null,logged:!1,pics:[],searchPic:""},a.apiHandler=function(e){return e?"https://api.unsplash.com/search/photos/?client_id=".concat("c60d9f090454d76d4344e50db930e0024b8b2268508a997cbd4595e916131e35","&query=").concat(a.state.searchPic,"&per_page=30"):"https://api.unsplash.com/photos/random/?client_id=".concat("c60d9f090454d76d4344e50db930e0024b8b2268508a997cbd4595e916131e35","&count=30")},a.delUser=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hello"),e.prev=1,e.next=4,fetch("/users/delete/".concat(a.state.currentUser._id),{method:"DELETE"});case 4:e.sent,a.setState({logged:!1,currentUser:null}),a.props.history.push("/"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[1,9]])})),a.update=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/".concat(a.state.currentUser._id),{method:"PUT",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:n=e.sent,r.success&&a.setState({currentUser:n.user}),a.props.history.push("/"),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),a.register=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/create",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent).success&&a.setState({currentUser:n.user,logged:!0}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.login=function(){var e=Object(u.a)(i.a.mark(function e(t){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/users/login",{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent).success&&a.setState({currentUser:n.user,logged:!0}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a.searchUpdate=function(){var e=Object(u.a)(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.setState({searchPic:t});case 3:return e.next=5,a.getPics();case 5:return r=e.sent,e.abrupt("return",a.setState({pics:r}));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),a.getPics=Object(u.a)(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a.apiHandler(a.state.searchPic));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r.results?r.results:r);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getPics().then(function(t){return e.setState({pics:t})})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement(b,{isLogged:this.state.logged,searchUpdate:this.searchUpdate}),n.a.createElement(f.d,null,n.a.createElement(f.b,{exact:!0,path:"/login",render:function(){return n.a.createElement(N,{login:e.login,currentUser:e.state.currentUser,isLogged:e.state.logged})}}),n.a.createElement(f.b,{exact:!0,path:"/users/:id",render:function(){return n.a.createElement(j,{currentUser:e.state.currentUser,isLogged:e.state.logged})}}),n.a.createElement(f.b,{exact:!0,path:"/edit/:id",render:function(){return n.a.createElement(y,{currentUser:e.state.currentUser,update:e.update,deleteUser:e.delUser})}}),n.a.createElement(f.b,{exact:!0,path:"/",render:function(){return n.a.createElement(E,{pics:e.state.pics})}}),n.a.createElement(f.b,{exact:!0,path:"/register",render:function(){return n.a.createElement(O,{currentUser:e.state.currentUser,register:e.register,isLogged:e.state.logged})}}),n.a.createElement(f.b,{exact:!0,path:"/user",render:function(){return n.a.createElement(x,{currentUser:e.state.currentUser,isLogged:e.state.logged})}})))}}]),t}(r.Component)),P=Object(f.f)(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(g.a,null,n.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.9165192c.chunk.js.map